\section{Results}

%%%%%%%%%%%%%%%%%%
% RESULTS TABLE
%%%%%%%%%%%%%%%%%%

% Table generated with steerlib.py
\begin{table}[]
\begin{center}
\begin{tabular}{l l l l l l}
\hline
\multicolumn{6}{ c }{Goodness-of-steer results - Generated Track and Generated Road SDSandbox logs} \\ \hline

% 1 Log: Unity log location (image plus .json files)
% 1 Filename:   Download  D1  Udacity real world dataset
% 2 Model:    D2  Udacity simulator data
% 3 Rain Type: D3  Udacity real and simulator data
% 4 Slant: Turk dry/rainy Ford dataset
% 5.GOS: Goodness of steer

% Generated Track log number of image files
% $ ls -l ../../dataset/unity/genTrack/genTrackOneLap/logs_Wed_Nov_25_23_39_22_2020/*.jpg | wc -l
% 1394
% Generated Road log number of image files
% $ ls -l ../../dataset/unity/genRoad/logs_Fri_Jul_10_09_16_18_2020/*.jpg | wc -l
% 19679

\multicolumn{6}{c}{Generated Track log: logs\_ Wed\_ Nov\_ 25\_ 23\_ 39\_ 22\_ 2020 (1394 images)} \\ \hline
ID & Keras model file name & Model & Rain Type & Slant & $g_s$ \\ \hline
% GENERATED TRACK
1 & 20201207192948\_ nvidia2.h5 & nvidia2 :) &  & 0 & 1.68 * \\ \hline
2 & 20201207192948\_ nvidia2.h5 & nvidia2 & light & 0 & 2.12 \\ \hline
3 & 20201207192948\_ nvidia2.h5 & nvidia2 & heavy & 10 & 2.17 \\ \hline
4 & 20201207192948\_ nvidia2.h5 & nvidia2 & torrential & 20 & 2.30 \\ \hline
5 & 20201207091932\_ nvidia1.h5 & nvidia1 &  & 0 & 1.82 * \\ \hline
6 & 20201207091932\_ nvidia1.h5 & nvidia1 & light & 0 & 2.11 \\ \hline
7 & 20201207091932\_ nvidia1.h5 & nvidia1 & heavy & 10 & 2.13 \\ \hline
8 & 20201207091932\_ nvidia1.h5 & nvidia1 & torrential & 20 & 2.28 \\ \hline
9 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline &  & 0 & 2.32 * \\ \hline
10 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline & light & 0 & 3.12 \\ \hline
11 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline & heavy & 10 & 3.17 \\ \hline
12 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline & torrential & 20 & 3.39 \\ \hline
13 & 20201120171015\_ sanity.h5 & nvidia1 :( &  & 0 & 5.03 * \\ \hline
14 & 20201120171015\_ sanity.h5 & nvidia1 & light & 0 & 3.11 \\ \hline
15 & 20201120171015\_ sanity.h5 & nvidia1 & heavy & 10 & 3.07 \\ \hline
16 & 20201120171015\_ sanity.h5 & nvidia1 & torrential & 20 & 3.00 \\ \hline
% GENERATED ROAD
\multicolumn{6}{c}{Generated Road log:  logs\_ Fri\_ Jul\_ 10\_ 09\_ 16\_ 18\_ 2020 (19679 images)} \\ \hline
ID & Keras model file name & Model & Rain Type & Slant & $g_s$ \\ \hline
% NVIDIA2
17 & 20201207192948\_ nvidia2.h5 & nvidia2 :) &  & 0 & 2.99 * \\ \hline  % drove 16 minutes on this road 1 & https://youtu.be/z9nILq9dQfI
18 & 20201207192948\_ nvidia2.h5 & nvidia2 & light & 0 & 3.20 \\ \hline
19 & 20201207192948\_ nvidia2.h5 & nvidia2 & heavy & 10 & 3.22 \\ \hline
20 & 20201207192948\_ nvidia2.h5 & nvidia2 & torrential & 20 & 3.27 \\ \hline
% NVIDIA1
21 & 20201207091932\_ nvidia1.h5 & nvidia1 &  & 0 & 3.87 * \\ \hline
22 & 20201207091932\_ nvidia1.h5 & nvidia1 & light & 0 & 3.75 \\ \hline
23 & 20201207091932\_ nvidia1.h5 & nvidia1 & heavy & 10 & 3.70 \\ \hline
24 & 20201207091932\_ nvidia1.h5 & nvidia1 & torrential & 20 & 3.57 \\ \hline
% NVIDIA_BASELINE
25 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline :( &  & 0 & 5.51 * \\ \hline
26 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline & light & 0 & 4.97 \\ \hline
27 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline & heavy & 10 & 4.98 \\ \hline
28 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline & torrential & 20 & 5.05 \\ \hline
% SANITY (NVIDIA1)
29 & 20201120171015\_ sanity.h5 & nvidia1 &  & 0 & 3.85 * \\ \hline
30 & 20201120171015\_ sanity.h5 & nvidia1 & light & 0 & 3.06 \\ \hline
31 & 20201120171015\_ sanity.h5 & nvidia1 & heavy & 10 & 3.05 \\ \hline
32 & 20201120171015\_ sanity.h5 & nvidia1 & torrential & 20 & 3.02 \\ \hline
%   compare to genTrackOneLap_logs_Wed_Nov_25_23_39_22_2020_ground_truth_steering_angles.png
\end{tabular}
\end{center}
\caption{Goodness-of-Steer $g_s$ results for best performing nvidia2 and nvidia1, plus "sanity" and nvidia\_ baseline for comparison, obtained from one lap of Generated Track (logs\_ Wed\_ Nov\_ 25\_ 23\_ 39\_ 22\_ 2020, rows 1 to 16) and one stretch of Generated Road (logs\_ Fri\_ Jul\_ 10\_ 09\_ 16\_ 18\_ 2020, rows 17 to 32). Asterisks in $g_s$ column indicate dry weather. Smiley face :) in Model column indicate best (lowest) $g_s$ score. Sad face :( in Model column indicates worst (highest) $g_s$ scores. The logs containing labelled image data used to compute the $g_s$ scores were generated with Unity intensity multiplier 1 and Skybox-Material set to Default-Skybox, the default sunny dry weather.}
\label{table:goodness-of-steer}
\end{table}

Table \ref{table:goodness-of-steer} shows Goodness-of-Steer results obtained for 32 sets of predictions, for four networks and two SDSandbox track logs, that is, the results were generated by running predictions on synthetic datasets, which contain ground truth steering values, like plotted in Figure \ref{fig:genTrackOneLap_logs_Wed_Nov_25_23_39_22_2020_ground_truth_steering_angles}. It is important to stress these are not realtime predictions, and the Unity simulator was not running in this case.

The networks are the best performing nvidia2 (obtained in run 62 - \ref{app_res:62}), the second best performing nvidia1 (obtained in run 49 - \ref{app_res:49}), "sanity check" (obtained in run 36 - \ref{app_res:36}) and nvidia\_ baseline (obtained in run 68 - \ref{app_res:68}). Table data and steering angle plots was generated with steerlib.py script written for this project. The track logs are for Generated Track (one lap) and Generated Road (one stretch). There are 32 rows, each sequence of four (1-4, 5-8 and so on) representing one model subject to sunny weather followed by 3 types of rain predicting steering angles for one log. 

nvidia2 predicted steering angle values used to generate $g_s$ scores in rows 1, 2, 3 and 4, for the Generated Track log are plotted in Figure  \ref{fig:sa_Generated_Track_20201207192948_nvidia2.h5}. The "no rain" predictions in row 1 (orange line on the plot), which has the lowest overall (1.68) $g_s$ score, is clearly the closest to the ground truth blue line, while the predictions for images containing light, heavy and torrential rain are tightly overlapped (green, red an violet lines, $g_s$ scores 2.12, 2.17, 2.30 respectively) are understeering on all turns (slightly above right turn ground truth plot in right turn sections and below ground truth plot in the left turn section. The understeering aspect was also noted in realtime predictions with respect to rainy predictions compared to best-run dry weather predictions as shown in Figures \ref{fig:sa_GeneratedTrackintensitymultiplier1_20201207192948_nvidia2}, 
\ref{fig:sa_GeneratedTrackintensitymultiplier4_20201207192948_nvidia2} and 
\ref{fig:sa_GeneratedTrackintensitymultiplier8_20201207192948_nvidia2}.

Note that publication-quality tables \emph{do not contain vertical rules.} We
strongly suggest the use of the \verb+booktabs+ package, which allows for
typesetting high-quality, professional tables:
\begin{center}
  \url{https://www.ctan.org/pkg/booktabs}
\end{center}
This package was used to typeset Table~\ref{sample-table}.

\begin{table}
  \caption{Generated Track Results}
  \label{generated-track-table}
  \centering
  \begin{tabular}{llllll}
    \toprule
    ID & Model file name & Model & Rain Type & Slant & $g_s$ \\ 
    \midrule
    % GENERATED TRACK
    1 & 20201207192948\_ nvidia2.h5 & nvidia2 :) &  & 0 & 1.68 * \\ 
    2 & 20201207192948\_ nvidia2.h5 & nvidia2 & light & 0 & 2.12 \\ 
    3 & 20201207192948\_ nvidia2.h5 & nvidia2 & heavy & 10 & 2.17 \\ 
    4 & 20201207192948\_ nvidia2.h5 & nvidia2 & torrential & 20 & 2.30 \\ 
    5 & 20201207091932\_ nvidia1.h5 & nvidia1 &  & 0 & 1.82 * \\ 
    6 & 20201207091932\_ nvidia1.h5 & nvidia1 & light & 0 & 2.11 \\ 
    7 & 20201207091932\_ nvidia1.h5 & nvidia1 & heavy & 10 & 2.13 \\ 
    8 & 20201207091932\_ nvidia1.h5 & nvidia1 & torrential & 20 & 2.28 \\ 
    9 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline &  & 0 & 2.32 * \\ 
    10 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline & light & 0 & 3.12 \\ 
    11 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline & heavy & 10 & 3.17 \\ 
    12 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline & torrential & 20 & 3.39 \\ 
    13 & 20201120171015\_ sanity.h5 & nvidia1 :( &  & 0 & 5.03 * \\ 
    14 & 20201120171015\_ sanity.h5 & nvidia1 & light & 0 & 3.11 \\ 
    15 & 20201120171015\_ sanity.h5 & nvidia1 & heavy & 10 & 3.07 \\ 
    16 & 20201120171015\_ sanity.h5 & nvidia1 & torrential & 20 & 3.00 \\ 
    \bottomrule
  \end{tabular}
\end{table}

\begin{table}
  \caption{Generated Track Results}
  \label{generated-track-table}
  \centering
  \begin{tabular}{llllll}
    \toprule
    % GENERATED TRACK
    ID & Model file name & Model & Rain Type & Slant & $g_s$ \\ 
    \midrule
    % NVIDIA2
    17 & 20201207192948\_ nvidia2.h5 & nvidia2 :) &  & 0 & 2.99 * \\   % drove 16 minutes on this road 1 & https://youtu.be/z9nILq9dQfI
    18 & 20201207192948\_ nvidia2.h5 & nvidia2 & light & 0 & 3.20 \\ 
    19 & 20201207192948\_ nvidia2.h5 & nvidia2 & heavy & 10 & 3.22 \\ 
    20 & 20201207192948\_ nvidia2.h5 & nvidia2 & torrential & 20 & 3.27 \\ 
    % NVIDIA1
    21 & 20201207091932\_ nvidia1.h5 & nvidia1 &  & 0 & 3.87 * \\ 
    22 & 20201207091932\_ nvidia1.h5 & nvidia1 & light & 0 & 3.75 \\ 
    23 & 20201207091932\_ nvidia1.h5 & nvidia1 & heavy & 10 & 3.70 \\ 
    24 & 20201207091932\_ nvidia1.h5 & nvidia1 & torrential & 20 & 3.57 \\ 
    % NVIDIA_BASELINE
    25 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ bline :( &  & 0 & 5.51 * \\ 
    26 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline & light & 0 & 4.97 \\ 
    27 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline & heavy & 10 & 4.98 \\ 
    28 & 20201207201157\_ nvidia\_ baseline.h5 & nvidia2\_ baseline & torrential & 20 & 5.05 \\ 
    % SANITY (NVIDIA1)
    29 & 20201120171015\_ sanity.h5 & nvidia1 &  & 0 & 3.85 * \\ 
    30 & 20201120171015\_ sanity.h5 & nvidia1 & light & 0 & 3.06 \\ 
    31 & 20201120171015\_ sanity.h5 & nvidia1 & heavy & 10 & 3.05 \\ 
    32 & 20201120171015\_ sanity.h5 & nvidia1 & torrential & 20 & 3.02 \\ 
    %   compare to genTrackOneLap_logs_Wed_Nov_25_23_39_22_2020_ground_truth_steering_angles.png
    \bottomrule
  \end{tabular}
\end{table}

